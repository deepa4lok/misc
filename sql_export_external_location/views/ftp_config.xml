<?xml version="1.0" encoding="utf-8"?> 
<odoo>

  <!--  Form view for accountant info collection and shipping --> 
  <record id="view_form_ftp_connector" model="ir.ui.view">
    <field name="name">FTP connector</field>
    <field name="model">ftp.config</field>
    <field name="arch" type="xml">
      <form string="FTP connector" create="false" edit="false" action="false"
                                     class="oe_form_configuration">
        <header > 
        </header>

          <br/>
          <group name="connector_config" string="Connector configuration">
            <field name="server"/> 
            <field name="directory"/>  
            <field name="user"/> 
            <field name="password"/>  
            <field name="tempdir"/>
            <field name="output_type"/>
          </group>
          <button name="save_config" type="object" 
            string="Save" class="oe_highlight" /> 
          <br/>
          <br/>

          <group name="production_status" string="Production status" col="2">
              <field name="latest_run"        readonly="1" widget="html"/> 
              <field name="latest_status"     readonly="1" widget="html"/> 
          </group>
          <br/>
          <br/>

          <group name="manual_send" string="Manual send" >

            <div colspan="2">
              <p>Press "Send" to initiate File Transfer of exported SQL Result </p>
            </div>
            <group>
            </group>
          </group>
          <button string="Send" name="do_send" type="object" class="oe_highlight"/>
          <br/>
          <br/>


          <group name="documentation" string="Summary" col="1">
              <p>SQL Extracts export to External Location via FTP Transfer</p>
              <p>This interfaces collects the result from SQL Export and ships this information. Automated runs use the current day. </p>
              <p>Shipping can be done manually using the Send-button above, or automatically via scheduled actions calling the automated_run method of this object.</p>
              <p/>
          </group>


      </form>
    </field>
  </record> 

  <!-- Connection info via server action and submenu-->
  <record id="ftp_connector_action" model="ir.actions.server">
    <field name="name">FTP connector</field>
    <field name="model_id" ref="model_ftp_config"/>
    <field name="code">
      action = model.default_view()
    </field>
  </record>

  <!-- Menu item to open Magnus FTP connector -->
  <menuitem id="menu_ftp_connector_settings"
    name="FTP Connector"
    parent="base.menu_administration"
    sequence="20"
     />
  <menuitem id="ftp_connector_menuitem"
    name="FTP Connector"
    action="ftp_connector_action"
    parent="menu_ftp_connector_settings"
    sequence="1"
     /> 


</odoo>